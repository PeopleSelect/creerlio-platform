(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},16789,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566);function l(){let e=(0,a.useRouter)(),[l,r]=(0,t.useState)(!1),[i,d]=(0,t.useState)(!1),[n,o]=(0,t.useState)(null),[c,m]=(0,t.useState)(null),[x,h]=(0,t.useState)(""),[p,g]=(0,t.useState)("file"),u=async e=>{let s=e.target.files?.[0];if(s){if(s.size>0xa00000)return void m("File size exceeds 10MB limit");if(!["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(s.type))return void m("Invalid file type. Please upload a .txt, .pdf, or .docx file");r(!0),d(!0),m(null);try{let e=new FormData;e.append("file",s);let t=localStorage.getItem("token"),a=await fetch("http://localhost:5007/api/ResumeParsing/upload",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:e});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to parse resume")}let l=await a.json();o(l)}catch(e){m(e.message||"Failed to upload and parse resume")}finally{r(!1),d(!1)}}},b=async()=>{if(!x.trim())return void m("Please paste your resume text");if(x.length>5e4)return void m("Resume text exceeds 50,000 character limit");d(!0),m(null);try{let e=localStorage.getItem("token"),s=await fetch("http://localhost:5007/api/ResumeParsing/parse-text",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({resumeText:x})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to parse resume")}let t=await s.json();o(t)}catch(e){m(e.message||"Failed to parse resume text")}finally{d(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-6xl px-4",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("button",{onClick:()=>e.back(),className:"text-amber-600 hover:text-amber-700 mb-4 flex items-center gap-2",children:"â† Back"}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"AI Resume Parser"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Upload your resume or paste the text, and our AI will automatically extract and populate your profile."}),(0,s.jsxs)("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-amber-800 font-medium",children:"âœ¨ Master Plan Feature"}),(0,s.jsx)("p",{className:"text-amber-700 text-sm mt-1",children:"AI will pre-fill approximately 60-70% of your profile fields for you to review and confirm."})]})]}),n?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Parsing Complete! âœ¨"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Review the extracted data below and apply it to your profile."})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Confidence Score"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-amber-600",children:[n.confidenceScore,"%"]})]})]}),n.parsingWarnings.length>0&&(0,s.jsxs)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"font-medium text-yellow-800",children:"âš ï¸ Parsing Warnings:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-yellow-700 mt-2",children:n.parsingWarnings.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),n.suggestedSections.length>0&&(0,s.jsxs)("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"font-medium text-blue-800",children:"ðŸ’¡ Suggested Additions:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-blue-700 mt-2",children:n.suggestedSections.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Personal Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Name"}),(0,s.jsxs)("p",{className:"font-medium",children:[n.firstName," ",n.lastName]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,s.jsx)("p",{className:"font-medium",children:n.email||"Not found"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Phone"}),(0,s.jsx)("p",{className:"font-medium",children:n.phone||"Not found"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Location"}),(0,s.jsx)("p",{className:"font-medium",children:[n.city,n.state,n.country].filter(Boolean).join(", ")||"Not found"})]})]})]}),n.headline&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Professional Summary"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-800 mb-2",children:n.headline}),n.summary&&(0,s.jsx)("p",{className:"text-gray-600",children:n.summary})]}),n.workExperiences.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Work Experience (",n.workExperiences.length,")"]}),(0,s.jsx)("div",{className:"space-y-4",children:n.workExperiences.map((e,t)=>(0,s.jsxs)("div",{className:"border-l-4 border-amber-500 pl-4",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:e.jobTitle}),(0,s.jsxs)("p",{className:"text-gray-700",children:[e.company," â€¢ ",e.location]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.startDate," - ",e.isCurrent?"Present":e.endDate]}),e.achievements.length>0&&(0,s.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600 mt-2",children:e.achievements.slice(0,3).map((e,t)=>(0,s.jsx)("li",{children:e},t))})]},t))})]}),n.educations.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Education (",n.educations.length,")"]}),(0,s.jsx)("div",{className:"space-y-4",children:n.educations.map((e,t)=>(0,s.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,s.jsxs)("p",{className:"font-bold text-gray-900",children:[e.degree," in ",e.field]}),(0,s.jsx)("p",{className:"text-gray-700",children:e.institution}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.startDate," - ",e.endDate,e.gpa&&` â€¢ GPA: ${e.gpa}`]})]},t))})]}),n.skills.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Skills (",n.skills.length,")"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:n.skills.map((e,t)=>(0,s.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm",children:[e.name,e.yearsOfExperience&&` (${e.yearsOfExperience}y)`]},t))})]}),n.certifications.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Certifications (",n.certifications.length,")"]}),(0,s.jsx)("div",{className:"space-y-3",children:n.certifications.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.issuingOrganization," â€¢ ",e.issueDate]})]},t))})]}),(0,s.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,s.jsx)("button",{onClick:()=>o(null),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:"Parse Another Resume"}),(0,s.jsx)("button",{onClick:()=>{n&&(localStorage.setItem("parsedResumeData",JSON.stringify(n)),e.push("/talent/profile/edit?from=resume"))},className:"px-8 py-3 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700",children:"Apply to My Profile â†’"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,s.jsx)("button",{onClick:()=>g("file"),className:`px-6 py-3 rounded-lg font-medium transition ${"file"===p?"bg-amber-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"ðŸ“„ Upload File"}),(0,s.jsx)("button",{onClick:()=>g("text"),className:`px-6 py-3 rounded-lg font-medium transition ${"text"===p?"bg-amber-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"ðŸ“ Paste Text"})]}),"file"===p&&(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-amber-500 transition",children:[(0,s.jsx)("input",{type:"file",id:"resume-upload",accept:".txt,.pdf,.docx",onChange:u,className:"hidden",disabled:l}),(0,s.jsxs)("label",{htmlFor:"resume-upload",className:"cursor-pointer",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“¤"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:l?"Uploading...":"Click to upload your resume"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Supported formats: .txt, .pdf (coming soon), .docx (coming soon)"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Max file size: 10MB"})]})]}),"text"===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{value:x,onChange:e=>h(e.target.value),placeholder:"Paste your resume text here...",className:"w-full h-96 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",disabled:i}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[x.length," / 50,000 characters"]}),(0,s.jsx)("button",{onClick:b,disabled:i||!x.trim(),className:"px-6 py-3 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Parsing...":"Parse Resume"})]})]})]}),i&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Analyzing your resume with AI..."}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"This may take 10-30 seconds"})]}),c&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[(0,s.jsx)("p",{className:"text-red-800 font-medium",children:"âŒ Error"}),(0,s.jsx)("p",{className:"text-red-700 text-sm mt-1",children:c})]})]})]})})}e.s(["default",()=>l])}]);