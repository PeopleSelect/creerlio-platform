module.exports=[77587,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(53250);function e(){let[a,e]=(0,c.useState)("location"),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1);(0,c.useEffect)(()=>{K(!0)},[]),(0,c.useEffect)(()=>{if(!J)return;let a=(0,d.getApiBaseUrl)();console.log("ðŸ”— Health check URL:",`${a}/api/masterdata/health`),(0,d.safeFetch)(`${a}/api/masterdata/health`).then(({data:a,error:b})=>{b?console.error("Health check failed:",b):a&&G(a)})},[J]);let L=async()=>{if(!J)return;I(!0);let a=(0,d.getApiBaseUrl)();try{let[b,c,d,e,f,h,j,l,n,o]=await Promise.all([fetch(`${a}/api/masterdata/countries`),fetch(`${a}/api/masterdata/states?countryCode=AUS`),fetch(`${a}/api/masterdata/cities?stateCode=NSW&limit=50`),fetch(`${a}/api/masterdata/industries`),fetch(`${a}/api/masterdata/universities`),fetch(`${a}/api/masterdata/credentials?category=Construction`),fetch(`${a}/api/masterdata/visas?category=Skilled`),fetch(`${a}/api/masterdata/skills?category=Technical&limit=20`),fetch(`${a}/api/masterdata/employmenttypes`),fetch(`${a}/api/masterdata/workarrangements`)]),p=async a=>{if(!a.ok)return[];try{let b=await a.text();return JSON.parse(b)}catch(a){return console.error("JSON parse error:",a),[]}};g(await p(b)),i(await p(c)),k(await p(d)),m(await p(e)),q(await p(f)),s(await p(h)),u(await p(j)),w(await p(l)),y(await p(n)),A(await p(o))}catch(a){console.error("Failed to fetch data:",a)}finally{I(!1)}};(0,c.useEffect)(()=>{if(B&&J){let a=(0,d.getApiBaseUrl)();(0,d.safeFetch)(`${a}/api/masterdata/jobcategories?industryId=${B}`).then(({data:a})=>{a&&o(a)})}},[B,J]);let M=async a=>{if(a.length>=2&&J){let b=(0,d.getApiBaseUrl)(),{data:c,error:e}=await (0,d.safeFetch)(`${b}/api/masterdata/cities?search=${a}&limit=20`);if(e){console.error("Search error:",e),k([]);return}c&&k(c)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"ðŸ† Master Data API Demo"}),(0,b.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"Explore 1,000+ master data records across 13 entity types"}),(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-green-500",children:"âœ“"}),(0,b.jsxs)("span",{className:"text-gray-700",children:["API Healthy â€¢ Cache: ",F.cache," â€¢ ",new Date(F.timestamp).toLocaleTimeString()]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-yellow-500",children:"âš "}),(0,b.jsx)("span",{className:"text-gray-700",children:"Connecting to API..."})]})})]}),(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsx)("button",{onClick:L,disabled:H,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:H?"Loading...":"ðŸš€ Load All Master Data"})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 border-b pb-4",children:[{id:"location",label:"ðŸ“ Location"},{id:"industries",label:"ðŸ­ Industries"},{id:"education",label:"ðŸŽ“ Education"},{id:"credentials",label:"ðŸ… Credentials"},{id:"employment",label:"ðŸ’¼ Employment"}].map(c=>(0,b.jsx)("button",{onClick:()=>e(c.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${a===c.id?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c.label},c.id))}),"location"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸŒ Countries"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[f.length," employment & migration markets"]}),(0,b.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:f.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,b.jsx)("span",{className:"font-medium",children:a.name}),(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:a.code})]},a.id))})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ“ Australian States"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[h.length," states and territories"]}),(0,b.jsx)("div",{className:"space-y-2",children:h.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,b.jsx)("span",{className:"font-medium",children:a.name}),(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:a.code})]},a.id))})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4 md:col-span-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ™ï¸ Cities"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[j.length," cities with geolocation data"]}),(0,b.jsx)("input",{type:"text",placeholder:"Search cities (e.g., Sydney, Melbourne)...",value:D,onChange:a=>{E(a.target.value),M(a.target.value)},className:"w-full px-4 py-2 border rounded-lg mb-4"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:j.map(a=>(0,b.jsxs)("div",{className:"p-3 border rounded-lg hover:shadow-md transition-shadow",children:[(0,b.jsx)("div",{className:"font-semibold",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.stateName}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["ðŸ“ ",a.latitude?.toFixed(4),", ",a.longitude?.toFixed(4)]}),a.isMajorCity&&(0,b.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"Major City"})]},a.id))})]})]}),"industries"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ­ Industries"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[l.length," major industries"]}),(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.map(a=>(0,b.jsx)("button",{onClick:()=>C(a.id),className:`w-full text-left p-3 rounded-lg transition-colors ${B===a.id?"bg-blue-100 border-2 border-blue-500":"hover:bg-gray-50 border border-gray-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:a.description})]})]})},a.id))})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ’¼ Job Categories"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:B?`${n.length} categories in selected industry`:"Select an industry to view categories"}),B?(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.map(a=>(0,b.jsxs)("div",{className:"p-2 hover:bg-gray-50 rounded border border-gray-200",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),a.description&&(0,b.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:a.description})]},a.id))}):(0,b.jsx)("div",{className:"text-center text-gray-500 py-8",children:"â† Select an industry to see job categories"})]})]}),"education"===a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸŽ“ Universities"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[p.length," Australian universities"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:p.map(a=>(0,b.jsxs)("div",{className:"p-3 border rounded-lg hover:shadow-md transition-shadow",children:[(0,b.jsx)("div",{className:"font-semibold text-sm",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:a.stateCode}),a.isGroupOfEight&&(0,b.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"Go8"})]},a.id))})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"âš¡ Technical Skills"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[v.length," skill definitions"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map(a=>(0,b.jsx)("span",{className:"px-3 py-2 border rounded-full text-sm hover:bg-gray-50",children:a.name},a.id))})]})]}),"credentials"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ… Construction Credentials"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[r.length," credential types"]}),(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.map(a=>(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-xs rounded",children:a.category}),a.requiresRenewal&&(0,b.jsxs)("span",{className:"px-2 py-1 border text-xs rounded",children:["Renew: ",a.renewalPeriodMonths,"mo"]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"âœˆï¸ Skilled Visas"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[t.length," visa types"]}),(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(a=>(0,b.jsx)("div",{className:"p-3 border rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Subclass ",a.subclassCode]})]}),a.allowsWork&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded",children:"Work Rights"})]})},a.id))})]})]}),"employment"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ’¼ Employment Types"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[x.length," types"]}),(0,b.jsx)("div",{className:"space-y-2",children:x.map(a=>(0,b.jsxs)("div",{className:"p-3 border rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:a.description})]},a.id))})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ¢ Work Arrangements"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[z.length," arrangements"]}),(0,b.jsx)("div",{className:"space-y-2",children:z.map(a=>(0,b.jsxs)("div",{className:"p-3 border rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:a.description})]},a.id))})]})]})]}),(0,b.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:f.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Countries"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:j.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Cities"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:l.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Industries"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:p.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Universities"})]})]})})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_master-data-demo_page_tsx_62c146e9._.js.map