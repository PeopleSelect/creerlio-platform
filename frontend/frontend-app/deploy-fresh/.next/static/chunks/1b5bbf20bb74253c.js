(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";function s(){{let e=window.location.hostname;if(e.includes(".app.github.dev")){let s=e.replace("-3000.","-5007.").replace("-3001.","-5007.");return`https://${s}`}if("localhost"===e||"127.0.0.1"===e)return"http://localhost:5007"}return"https://creerlio-api.azurewebsites.net"}async function t(e,s){try{let t=await fetch(e,s);if(!t.ok){let e=await t.text();return console.error(`API Error (${t.status}):`,e.substring(0,200)),{data:null,error:`HTTP ${t.status}: ${t.statusText}`}}let a=await t.text();try{return{data:JSON.parse(a),error:null}}catch(e){return console.error("JSON Parse Error:",a.substring(0,200)),{data:null,error:"Invalid JSON response from server"}}}catch(e){return console.error("Fetch Error:",e),{data:null,error:e instanceof Error?e.message:"Network error"}}}e.s(["getApiBaseUrl",()=>s,"safeFetch",()=>t])},80282,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(54858);function r(){let[e,r]=(0,t.useState)("location"),[l,i]=(0,t.useState)([]),[d,n]=(0,t.useState)([]),[c,o]=(0,t.useState)([]),[m,x]=(0,t.useState)([]),[h,g]=(0,t.useState)([]),[p,u]=(0,t.useState)([]),[b,j]=(0,t.useState)([]),[N,y]=(0,t.useState)([]),[v,f]=(0,t.useState)([]),[w,S]=(0,t.useState)([]),[C,$]=(0,t.useState)([]),[k,A]=(0,t.useState)(""),[E,T]=(0,t.useState)(""),[U,F]=(0,t.useState)(null),[P,I]=(0,t.useState)(!1),[O,B]=(0,t.useState)(!1);(0,t.useEffect)(()=>{B(!0)},[]),(0,t.useEffect)(()=>{if(!O)return;let e=(0,a.getApiBaseUrl)();console.log("ðŸ”— Health check URL:",`${e}/api/masterdata/health`),(0,a.safeFetch)(`${e}/api/masterdata/health`).then(({data:e,error:s})=>{s?console.error("Health check failed:",s):e&&F(e)})},[O]);let J=async()=>{if(!O)return;I(!0);let e=(0,a.getApiBaseUrl)();try{let[s,t,a,r,l,d,c,m,h,g]=await Promise.all([fetch(`${e}/api/masterdata/countries`),fetch(`${e}/api/masterdata/states?countryCode=AUS`),fetch(`${e}/api/masterdata/cities?stateCode=NSW&limit=50`),fetch(`${e}/api/masterdata/industries`),fetch(`${e}/api/masterdata/universities`),fetch(`${e}/api/masterdata/credentials?category=Construction`),fetch(`${e}/api/masterdata/visas?category=Skilled`),fetch(`${e}/api/masterdata/skills?category=Technical&limit=20`),fetch(`${e}/api/masterdata/employmenttypes`),fetch(`${e}/api/masterdata/workarrangements`)]),p=async e=>{if(!e.ok)return[];try{let s=await e.text();return JSON.parse(s)}catch(e){return console.error("JSON parse error:",e),[]}};i(await p(s)),n(await p(t)),o(await p(a)),x(await p(r)),u(await p(l)),j(await p(d)),y(await p(c)),f(await p(m)),S(await p(h)),$(await p(g))}catch(e){console.error("Failed to fetch data:",e)}finally{I(!1)}};(0,t.useEffect)(()=>{if(k&&O){let e=(0,a.getApiBaseUrl)();(0,a.safeFetch)(`${e}/api/masterdata/jobcategories?industryId=${k}`).then(({data:e})=>{e&&g(e)})}},[k,O]);let M=async e=>{if(e.length>=2&&O){let s=(0,a.getApiBaseUrl)(),{data:t,error:r}=await (0,a.safeFetch)(`${s}/api/masterdata/cities?search=${e}&limit=20`);if(r){console.error("Search error:",r),o([]);return}t&&o(t)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"ðŸ† Master Data API Demo"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"Explore 1,000+ master data records across 13 entity types"}),(0,s.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:U?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-green-500",children:"âœ“"}),(0,s.jsxs)("span",{className:"text-gray-700",children:["API Healthy â€¢ Cache: ",U.cache," â€¢ ",new Date(U.timestamp).toLocaleTimeString()]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-yellow-500",children:"âš "}),(0,s.jsx)("span",{className:"text-gray-700",children:"Connecting to API..."})]})})]}),(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsx)("button",{onClick:J,disabled:P,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:P?"Loading...":"ðŸš€ Load All Master Data"})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 border-b pb-4",children:[{id:"location",label:"ðŸ“ Location"},{id:"industries",label:"ðŸ­ Industries"},{id:"education",label:"ðŸŽ“ Education"},{id:"credentials",label:"ðŸ… Credentials"},{id:"employment",label:"ðŸ’¼ Employment"}].map(t=>(0,s.jsx)("button",{onClick:()=>r(t.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${e===t.id?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t.label},t.id))}),"location"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸŒ Countries"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[l.length," employment & migration markets"]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:l.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:e.code})]},e.id))})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ“ Australian States"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[d.length," states and territories"]}),(0,s.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-200 rounded text-sm",children:e.code})]},e.id))})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4 md:col-span-2",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ™ï¸ Cities"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[c.length," cities with geolocation data"]}),(0,s.jsx)("input",{type:"text",placeholder:"Search cities (e.g., Sydney, Melbourne)...",value:E,onChange:e=>{T(e.target.value),M(e.target.value)},className:"w-full px-4 py-2 border rounded-lg mb-4"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:c.map(e=>(0,s.jsxs)("div",{className:"p-3 border rounded-lg hover:shadow-md transition-shadow",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.stateName}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["ðŸ“ ",e.latitude?.toFixed(4),", ",e.longitude?.toFixed(4)]}),e.isMajorCity&&(0,s.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"Major City"})]},e.id))})]})]}),"industries"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ­ Industries"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[m.length," major industries"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:m.map(e=>(0,s.jsx)("button",{onClick:()=>A(e.id),className:`w-full text-left p-3 rounded-lg transition-colors ${k===e.id?"bg-blue-100 border-2 border-blue-500":"hover:bg-gray-50 border border-gray-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]})]})},e.id))})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ’¼ Job Categories"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:k?`${h.length} categories in selected industry`:"Select an industry to view categories"}),k?(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:h.map(e=>(0,s.jsxs)("div",{className:"p-2 hover:bg-gray-50 rounded border border-gray-200",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),e.description&&(0,s.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.description})]},e.id))}):(0,s.jsx)("div",{className:"text-center text-gray-500 py-8",children:"â† Select an industry to see job categories"})]})]}),"education"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸŽ“ Universities"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[p.length," Australian universities"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:p.map(e=>(0,s.jsxs)("div",{className:"p-3 border rounded-lg hover:shadow-md transition-shadow",children:[(0,s.jsx)("div",{className:"font-semibold text-sm",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.stateCode}),e.isGroupOfEight&&(0,s.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"Go8"})]},e.id))})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"âš¡ Technical Skills"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[v.length," skill definitions"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map(e=>(0,s.jsx)("span",{className:"px-3 py-2 border rounded-full text-sm hover:bg-gray-50",children:e.name},e.id))})]})]}),"credentials"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ… Construction Credentials"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[b.length," credential types"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.map(e=>(0,s.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-xs rounded",children:e.category}),e.requiresRenewal&&(0,s.jsxs)("span",{className:"px-2 py-1 border text-xs rounded",children:["Renew: ",e.renewalPeriodMonths,"mo"]})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"âœˆï¸ Skilled Visas"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[N.length," visa types"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:N.map(e=>(0,s.jsx)("div",{className:"p-3 border rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Subclass ",e.subclassCode]})]}),e.allowsWork&&(0,s.jsx)("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded",children:"Work Rights"})]})},e.id))})]})]}),"employment"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ’¼ Employment Types"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[w.length," types"]}),(0,s.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,s.jsxs)("div",{className:"p-3 border rounded-lg hover:bg-gray-50",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.description})]},e.id))})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"ðŸ¢ Work Arrangements"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[C.length," arrangements"]}),(0,s.jsx)("div",{className:"space-y-2",children:C.map(e=>(0,s.jsxs)("div",{className:"p-3 border rounded-lg hover:bg-gray-50",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.description})]},e.id))})]})]})]}),(0,s.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:l.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Countries"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:c.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Cities"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-green-600",children:m.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Industries"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:p.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Universities"})]})]})})]})})}e.s(["default",()=>r])}]);